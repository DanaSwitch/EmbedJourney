## 前言

在学习如何编写 STM32 开发板程序时，发现编写该程序，需要做一些额外工作。这让我并不是很理解，于是想用这篇文章来解释那些额外工作的作用。

## 文件说明

### 1 startup_stm32f10x_md.s 文件

启动文件的核心是完成一系列前置初始化任务，根本目的是为用户编写的 C 程序搭建合格的运行环境并成功引导其执行，主要工作包括：初始化核心运行环境与底层硬件、构建中断向量表并建立中断与处理函数的映射、辅助建立程序段与硬件地址的正确映射、按流程引导至用户 C 程序的入口main函数。

### 2 stm32f10x 文件

外设定义文件是STM32F10x系列微控制器的寄存器定义头文件，属于STM32标准外设库(Standard Peripheral Library)的核心部分

### 3 system_stm32f10x 文件

这两个文件共同负责 STM32F10x 芯片的 系统时钟初始化与管理，是芯片启动过程中必不可少的部分。它们确保芯片以正确的频率运行，并为外设提供稳定的时钟源，是所有用户应用程序运行的基础。

### 4 core_cm3 文件

core_cm3 是遵循 CMSIS 标准的 Cortex-M3 内核通用实现文件，它通过条件编译适配 Keil、GCC、IAR 等主流嵌入式编译器，以 “C 语言函数封装内嵌汇编” 为核心技术手段，封装了 Cortex-M3 内核的堆栈指针（MSP/PSP）读写、状态寄存器（BASEPRI/PRIMASK 等）配置、硬件加速数据操作（字节 / 位序反转）、独占访问原子操作等底层核心功能，提供了一套标准化、可直接调用的 C 语言接口，其核心价值在于屏蔽复杂的内核汇编指令、编译器语法差异和寄存器地址细节，降低开发者操作内核的门槛和出错风险，同时保证代码的跨编译器、跨 Cortex-M3 内核芯片的可移植性，为启动文件、system_stm32f10x.c、RTOS 及用户应用程序提供安全、高效、统一的内核操作支撑，是嵌入式开发中操作 Cortex-M3 内核的优选基础文件。
